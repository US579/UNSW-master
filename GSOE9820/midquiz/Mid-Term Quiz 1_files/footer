require(['core/first'],function(){require(['theme_bootstrapbase/bootstrap','core/log'],function(bootstrap,log){log.debug('Bootstrap initialised')})});
function customise_dock_for_theme(dock){dock.on('dock:panelgenerated',function(){dock.get('panel').once('dockpanel:beforeshow',function(){Y.all('.dockeditempanel_content').addClass('block')});dock.get('panel').on('dockpanel:beforeshow',function(){var content=Y.all('.dockeditempanel_content');content.setStyle('maxWidth',content.get('winWidth')-dock.get('dockNode').get('offsetWidth')-10)})});dock.on('dock:initialised',function(){var navbar=Y.one('header.navbar'),navbarbtn=Y.one('header.navbar .btn-navbar'),navcollapse=Y.one('header.navbar .nav-collapse'),container=Y.one('#dock .dockeditem_container'),margintop=null,newmargintop=null,diff=null;if(navbar&&navbarbtn&&container){margintop=parseInt(container.getStyle('marginTop').replace(/px$/,''),10);diff=margintop-parseInt(navbar.get('offsetHeight'),10);navbarbtn.ancestor().on('click',function(){navcollapse.toggleClass('active');if(!this.hasClass('active')){newmargintop=(parseInt(navbar.get('offsetHeight'),10)+diff);container.setStyle('marginTop',newmargintop+'px')}else{container.setStyle('marginTop',margintop+'px')}
navcollapse.toggleClass('active');dock.fire('dock:itemschanged')},navbarbtn)}})};
function on_resize(a,b){return onresize=function(){clearTimeout(b),b=setTimeout(a,100)},a}!function(a){if("object"==typeof exports)module.exports=a();else{var b=window.Cookies,c=window.Cookies=a();c.noConflict=function(){return window.Cookies=b,c}}}(function(){function a(){for(var a=0,b={};a<arguments.length;a++){var c=arguments[a];for(var d in c)b[d]=c[d]}return b}function b(c){function d(b,e,f){var g;if(arguments.length>1){if(f=a({path:"/"},d.defaults,f),"number"==typeof f.expires){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*f.expires),f.expires=h}try{g=JSON.stringify(e),/^[\{\[]/.test(g)&&(e=g)}catch(a){}return e=c.write?c.write(e,b):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),b=encodeURIComponent(String(b)),b=b.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),b=b.replace(/[\(\)]/g,escape),document.cookie=[b,"=",e,f.expires&&"; expires="+f.expires.toUTCString(),f.path&&"; path="+f.path,f.domain&&"; domain="+f.domain,f.secure?"; secure":""].join("")}b||(g={});for(var i=document.cookie?document.cookie.split("; "):[],j=/(%[0-9A-Z]{2})+/g,k=0;k<i.length;k++){var l=i[k].split("="),m=l[0].replace(j,decodeURIComponent),n=l.slice(1).join("=");'"'===n.charAt(0)&&(n=n.slice(1,-1));try{if(n=c.read?c.read(n,m):c(n,m)||n.replace(j,decodeURIComponent),this.json)try{n=JSON.parse(n)}catch(a){}if(b===m){g=n;break}b||(g[m]=n)}catch(a){}}return g}return d.get=d.set=d,d.getJSON=function(){return d.apply({json:!0},[].slice.call(arguments))},d.defaults={},d.remove=function(b,c){d(b,"",a(c,{expires:-1}))},d.withConverter=b,d}return b(function(){})}),!function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(){var b=a(this);if(!(b.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){b.css("height")||b.css("width")||!isNaN(b.attr("height"))&&!isNaN(b.attr("width"))||(b.attr("height",9),b.attr("width",16));var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),e=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),f=c/e;if(!b.attr("id")){var g="fitvid"+Math.floor(999999*Math.random());b.attr("id",g)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*f+"%"),b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),$("#block-region-side-pre .block_html > .content > .no-overflow").fitVids(),on_resize(function(){var a=$("#page-footer").outerHeight(),b=window.innerHeight-$(".header-top").outerHeight()-a;$page=$("#page"),$page.hasClass("page-embed")||($page.css("margin-bottom",a),$page.hasClass("page-login")?$page.css("min-height",b-3):$page.css("min-height",b-10))})(),!$("body").hasClass("mobiletheme")&&!$("body").hasClass("tablettheme")&&$(".page-header-breadcrumb nav > ul > li").length>5&&($(".page-header-breadcrumb nav > ul > li").addClass("jbreadcrumb"),$(".page-header-breadcrumb nav > ul > li:nth-child(1), .page-header-breadcrumb nav > ul > li:nth-child(2), .page-header-breadcrumb nav > ul > li:nth-last-child(1), .page-header-breadcrumb nav > ul > li:nth-last-child(2), .page-header-breadcrumb nav > ul > li:nth-last-child(3)").removeClass("jbreadcrumb")),$(".jbreadcrumb").on("mouseenter",function(){$(this).css("max-width",$("> :last-child",$(this)).width()+13)}),$(".jbreadcrumb").on("mouseleave",function(){$(this).css("max-width","28px")});var $bd=$("body");$(".theatre-control-off").on("click",function(){$bd.removeClass("theatre-on"),Cookies.remove("theatre-on",{path:"/"})}),$(".theatre-control-on").on("click",function(){$bd.addClass("theatre-on"),Cookies.set("theatre-on",1,{path:"/"})}),1==Cookies.get("theatre-on")&&($bd.is("#page-mod-book-view")||$bd.is("#page-mod-forum-discuss")||$bd.is("#page-mod-forum-view")||$bd.is("#page-mod-glossary-view")||$bd.is("#page-mod-lesson-view")||$bd.is("#page-mod-ouwiki-view")||$bd.is("#page-mod-page-view")||$bd.is("#page-mod-wiki-admin")||$bd.is("#page-mod-wiki-comments")||$bd.is("#page-mod-wiki-files")||$bd.is("#page-mod-wiki-history")||$bd.is("#page-mod-wiki-map")||$bd.is("#page-mod-wiki-view")||$bd.hasClass("path-course-view"))&&$bd.addClass("theatre-on")